{% extends "base.html" %}
{% load i18n %}
{% block title %}{% trans "รายละเอียด" %} {{ member.member_id }} — Gun Club{% endblock %}
{% block content %}

<div class="max-w-2xl">
    <a href="{% url 'member_list' %}" class="inline-flex items-center gap-2 text-slate-600 hover:text-slate-800 text-sm font-medium mb-6">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
        {% trans "กลับไปรายชื่อสมาชิก" %}
    </a>

    <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
        <div class="p-5 sm:p-6 flex flex-col sm:flex-row gap-5 sm:gap-6">
            {% if member.photo %}
                <img src="{{ member.photo.url }}" class="w-24 h-24 sm:w-32 sm:h-32 rounded-2xl object-cover shadow-md flex-shrink-0">
            {% else %}
                <div class="w-24 h-24 sm:w-32 sm:h-32 rounded-2xl bg-slate-200 flex items-center justify-center text-slate-500 text-2xl font-bold flex-shrink-0">
                    {{ member.first_name|slice:":1" }}{{ member.last_name|slice:":1" }}
                </div>
            {% endif %}
            <div class="flex-1">
                <h1 class="text-xl sm:text-2xl font-bold text-slate-800">
                    {{ member.first_name }} {{ member.last_name }}
                </h1>
                <p class="text-slate-500 mt-1">{{ member.first_name_en }} {{ member.last_name_en }}</p>
                <div class="mt-3 flex flex-wrap gap-2">
                    <span class="font-mono font-bold text-amber-600 bg-amber-50 px-2.5 py-1 rounded-lg text-sm">{{ member.member_id }}</span>
                    <span class="inline-flex px-2.5 py-1 rounded-full text-xs font-medium bg-slate-200 text-slate-700">
                        {{ member.status }}
                    </span>
                </div>
            </div>
        </div>

        <div class="border-t border-slate-100 p-5 sm:p-6 grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div><span class="text-slate-500 text-sm">{% trans "ชื่อเล่น" %}</span><p class="font-medium">{{ member.nickname|default:"—" }}</p></div>
            <div><span class="text-slate-500 text-sm">{% trans "บทบาท" %}</span><p class="font-medium">{{ member.get_role_display }}</p></div>
            <div><span class="text-slate-500 text-sm">{% trans "เบอร์โทร" %}</span><p class="font-medium">{{ member.phone|default:"—" }}</p></div>
            <div><span class="text-slate-500 text-sm">{% trans "กรุ๊ปเลือด" %}</span><p class="font-medium">{{ member.blood_group|default:"—" }}</p></div>
            <div><span class="text-slate-500 text-sm">{% trans "วันที่สมัคร" %}</span><p class="font-medium">{{ member.join_date }}</p></div>
            <div><span class="text-slate-500 text-sm">{% trans "วันหมดอายุ" %}</span><p class="font-medium">{{ member.expire_date|default:"—" }}</p></div>
            <div><span class="text-slate-500 text-sm">{% trans "ที่อยู่" %}</span><p class="font-medium">{{ member.address|default:"—" }}</p></div>
            <div><span class="text-slate-500 text-sm">{% trans "อีเมล" %}</span><p class="font-medium">{{ member.email|default:"—" }}</p></div>
            <div><span class="text-slate-500 text-sm">{% trans "ชื่อผู้ติดต่อฉุกเฉิน" %}</span><p class="font-medium">{{ member.emergency_contact_name|default:"—" }}</p></div>
            <div><span class="text-slate-500 text-sm">{% trans "เบอร์โทรผู้ติดต่อฉุกเฉิน" %}</span><p class="font-medium">{{ member.emergency_contact_phone|default:"—" }}</p></div>
        </div>

        <div class="border-t border-slate-100 p-5 sm:p-6 flex flex-col sm:flex-row gap-3">
            <a href="{% url 'member_card' member.public_id %}" class="btn-primary py-3 px-6 rounded-lg text-center bg-amber-600 hover:bg-amber-700 text-white">
                {% trans "ดูบัตรสมาชิก" %}
            </a>
            <a href="{% url 'edit_member' member.pk %}" class="btn-secondary py-3 px-6 rounded-lg text-center bg-slate-600 hover:bg-slate-700 text-white">
                {% trans "แก้ไขข้อมูล" %}
            </a>
            <a href="{% url 'delete_member' member.member_id %}" class="text-red-600 hover:text-red-700 font-medium py-3 px-6 rounded-lg text-center bg-red-600 hover:bg-red-700 text-white">
                {% trans "ลบสมาชิก" %}
            </a>
        </div>
    </div>
</div>

{% endblock %}
